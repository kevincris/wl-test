{"version":3,"sources":["./src/app/services/services.module.ts","./src/app/common/logged-in.auth-guard.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAwC;AACc;AACa;AACD;AAElE,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,WAAW,EAAE,CAAC,8EAAiB,CAAC;QAChC,QAAQ,EAAE;YACN;gBACI,IAAI,EAAE,UAAU;gBAChB,WAAW,EAAE,CAAC,+EAAe,CAAC;gBAC9B,IAAI,EAAE;oBACF,WAAW,EAAE,CAAC,UAAU,CAAC;iBAC5B;gBACD,YAAY,EAAE,GAAG,EAAE,CAAC,igBAA8C,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,kBAAkB,CAAC;aACzG;YACD;gBACI,IAAI,EAAE,aAAa;gBACnB,WAAW,EAAE,CAAC,+EAAe,CAAC;gBAC9B,IAAI,EAAE;oBACF,WAAW,EAAE,CAAC,aAAa,CAAC;iBAC/B;gBACD,YAAY,EAAE,GAAG,EAAE,CACf,kZAAoD,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,qBAAqB,CAAC;aAClG;SACJ;KACJ;CACJ;IAMY,cAAc,SAAd,cAAc;CAAG;AAAjB,cAAc;IAJ1B,8DAAQ,CAAC;QACN,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KAC1B,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;ACnCe;AACiE;AAChD;IAG9C,iBAAiB,SAAjB,iBAAiB;IAC1B,YAAoB,OAAuB,EAAU,MAAc;QAA/C,YAAO,GAAP,OAAO,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAChE,WAAW,CAAC,CAAyB,EAAE,KAA0B;QACpE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE;YACjC,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,kBAAkB,GAAG,KAAK,CAAC,GAAG,CAAC;SAC9D;QACD,OAAO,IAAI;IACf,CAAC;CACJ;;YAXQ,wEAAc;YADuB,sDAAM;;AAIvC,iBAAiB;IAD7B,gEAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;GACtB,iBAAiB,CAQ7B;AAR6B","file":"services-services-module.js","sourcesContent":["import { NgModule } from '@angular/core'\nimport { RouterModule, Routes } from '@angular/router'\nimport { PermissionGuard } from '../common/guards/permission.guard'\nimport { LoggedInAuthGuard } from '../common/logged-in.auth-guard'\n\nconst routes: Routes = [\n    {\n        path: '',\n        canActivate: [LoggedInAuthGuard],\n        children: [\n            {\n                path: 'invoices',\n                canActivate: [PermissionGuard],\n                data: {\n                    permissions: ['invoices'],\n                },\n                loadChildren: () => import('./user-invoices/user-invoices.module').then(mod => mod.UserInvoicesModule),\n            },\n            {\n                path: 'conversions',\n                canActivate: [PermissionGuard],\n                data: {\n                    permissions: ['conversions'],\n                },\n                loadChildren: () =>\n                    import('./user-conversions/user-conversions.module').then(mod => mod.UserConversionsModule),\n            },\n        ],\n    },\n]\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class ServicesModule {}\n","import { Injectable } from '@angular/core'\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router'\nimport { SessionService } from './services/session.service'\n\n@Injectable({ providedIn: 'root' })\nexport class LoggedInAuthGuard implements CanActivate {\n    constructor(private session: SessionService, private router: Router) {}\n    public canActivate(_: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree {\n        if (!this.session.isAuthenticated()) {\n            return this.router.parseUrl('/login?redirect=' + state.url)\n        }\n        return true\n    }\n}\n"],"sourceRoot":"webpack:///"}